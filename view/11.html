<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
<meta name="renderer" content="webkit" /> <!-- 让360支持高速渲染模式 -->
<meta http-equiv="pragma" content="no-cache" /> 
<meta http-equiv="Cache-Control" content="no-store, must-revalidate" /> 
<meta http-equiv="expires" content="Wed, 26 Feb 1997 08:21:57 GMT" /> 
<meta http-equiv="expires" content="0" />
<link rel="shortcut icon" href="/favicon.ico?v=1.2" />
<link href="/templets/default/style/common.css?v=1.2" rel="stylesheet" />
<title>数据结构中的字符串</title>
<meta name="keywords" content="字符串,的,概念,字符串,的,概念," />
<meta name="description" content="串，即 字符串 ，由n个字符组成的一个整体（n=0）。这n个字符可以由字母、数字或者其他字符组成。 例如，S=BEIJING，S代表这个串的串名，BEIJING是串的值。 双引号不是串的值，作用只" />
</head>
<body>
<div id="header" class="clearfix">
	<a id="logo" class="left" href="/">
		<img height="26" src="/templets/default/images/logo_monkey.png" alt="数据结构与算法教程Logo" />
	</a>
	<ul id="nav-main" class="hover-none left clearfix">
		<li><a href="/">教程首页</a></li>
		<li><a href="/view/212.html">购买教程（带答疑）</a></li>
	</ul>
	<span id="sidebar-toggle" class="toggle-btn" toggle-target="#sidebar">目录 <span class="glyphicon"></span></span>
</div>
<div id="main" class="clearfix">
	<div id="sidebar" class="toggle-target">
	<div id="contents">
		<dt><span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span>教程目录</dt>
		
			<dd>
				<span class="channel-num">1</span>
				<a href='/intro/'>数据结构概述</a>
			</dd>
		
			<dd>
				<span class="channel-num">2</span>
				<a href='/linear_list/'>线性表</a>
			</dd>
		
			<dd>
				<span class="channel-num">3</span>
				<a href='/stack_queue/'>栈和队列</a>
			</dd>
		
			<dd>
				<span class="channel-num">4</span>
				<a href='/string/'>字符串</a>
			</dd>
		
			<dd>
				<span class="channel-num">5</span>
				<a href='/array_list/'>数组和广义表</a>
			</dd>
		
			<dd>
				<span class="channel-num">6</span>
				<a href='/tree/'>树</a>
			</dd>
		
			<dd>
				<span class="channel-num">7</span>
				<a href='/graph/'>图</a>
			</dd>
		
			<dd>
				<span class="channel-num">8</span>
				<a href='/memory/'>动态内存管理</a>
			</dd>
		
			<dd>
				<span class="channel-num">9</span>
				<a href='/search/'>查找算法</a>
			</dd>
		
			<dd>
				<span class="channel-num">10</span>
				<a href='/sort/'>排序算法</a>
			</dd>
		
			<dd>
				<span class="channel-num">11</span>
				<a href='/out_sort/'>外部排序算法</a>
			</dd>
		
			<dd>
				<span class="channel-num">12</span>
				<a href='/video/'>数据结构与算法视频教程</a>
			</dd>
		
	</div>
</div>
	<div id="article-wrap">
		<div id="article">
			<div id="arc-info">
	阅读：<span class="click">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	作者：解学武
</div>
			<h1>数据结构中的字符串</h1>
			<div id="arc-body"><span style="color:#b22222;">数据结构中提到的<u><a href='/view/175.html' target='_blank'>串</a></u>，即</span><span style="color:#008000;">字符串</span><span style="color:#b22222;">，由 n 个字符组成的一个整体（ n &gt;= 0 ）。这 n 个字符可以由字母、数字或者其他字符组成。</span><br />
<br />
例如，S = &rdquo;BEIJING&rdquo; ，S 代表这个串的串名，BEIJING 是串的值。
<div class="info-box">
	双引号不是串的值，作用只是为了将串和其他结构区分开。</div>
<h2>
	特殊的串</h2>
<span style="color:#008000;">空串</span>：含有零个字符的串。例如：S = &ldquo;&rdquo;（双引号中没有任何东西），一般直接用<span style="color:#008000;"> &Oslash; </span>表示。<br />
<br />
<span style="color:#008000;">空格串</span>：只包含空格的串。注意和空串区分开，空格串中是有内容的，只不过包含的是空格，且空格串中可以包含多个空格。例如，a = &rdquo;&nbsp;&nbsp; &rdquo;（包含3个空格）。<br />
<br />
<span style="color:#008000;">子串与主串</span>：串中任意个连续字符组成的字符串叫做该串的子串，包含子串的串称为主串。<br />
<blockquote>
	<p>
		例如：a = &rdquo;BEI&rdquo;，b = &rdquo;BEIJING&rdquo;，c = &rdquo;BJINGEI&rdquo; 。对于字符串 a 和 b 来说，由于 b 中含有连续的字符串 a ，所以可以称 a 是 b 的子串，b 是 a 的主串；而对于 c 和 a ，虽然 c 中也含有 a 的全部字符，但不是连续的 &ldquo;BEI&rdquo; ，所以串 c 和 a 没有任何关系。</p>
</blockquote>
<span style="color:#b22222;">子串在主串中的位置：</span>对于串 a = &rdquo;BEI&rdquo; 来说，首字符 &lsquo;B&rsquo; 在串 b 的位置为 1 ，所以子串 a 在主串 b = &ldquo;BEIJING&rdquo; 中的位置是 1。
<div class="info-box">
	子串在主串中的位置和字符在<u><a href='/view/181.html' target='_blank'>数组</a></u>中的存放位置不同，子串在主串的位置从 1 开始数。</div>
<span style="color:#b22222;">两个串相等的标准：</span>如果两个串的串值完全相同，那么这两个串相等。
<h2>
	串的三种存储结构</h2>
存储串的结构有三种：1 定长顺序存储；2 堆分配存储； 3 块链存储。
<h2>
	定长顺序存储</h2>
采用固定长度的数组（即静态数组）存储串。<br />
<br />
例如：char a[7] = &quot;abcdfg&quot;;<br />
<br />
此方式存储串时，需要预估串的长度提前申请足够的存储空间。目标串如果超过了数组申请的长度，超出部分会被自动舍弃（称为<span style="color:#008000;">&ldquo;截断&rdquo;</span>）。<br />
<br />
例如：char a[3] = &quot;abcdfg&quot;;//实际上数组中只存储了 &ldquo;abc&rdquo; ，后边的被截断。
<h2>
	堆分配存储</h2>
采用动态数组存储串。<br />
<div class="info-box">
	在C语言中，存在着一个被称之为&ldquo;堆&rdquo;的自由存储区，用 malloc 函数和 free 函数管理，malloc 函数负责申请空间，free 函数负责释放空间。</div>
例如：char * a = (char*)malloc(5*sizeof(char));//创建 a 数组，动态申请5个 char 类型数据的存储空间<br />
<br />
<span style="color:#b22222;">使用堆分配存储的优势在于：当发现申请的空间不够用时，可以通过 realloc() 函数重新申请更大的存储空间。</span><br />
<br />
例如：a = (char*)realloc(a, 10*sizeof(char));//前一个参数指申请空间的对象；第二个参数，重新申请空间的大小<br />
<br />
使用 malloc 函数申请的存储空间，不会自动释放，需要程序员调用 free() 函数手动释放。如果不手动释放，当程序执行彻底结束，由操作系统进行回收。<br />
<br />
例如：free(a);//释放动态数组a申请的空间<br />
<br />
举一个完整的例子，连接串 &ldquo;abc&rdquo; 和 &ldquo;defg&rdquo; 变为 &ldquo;abcdefg&rdquo; ；
<pre class="cpp">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
int main()
{
    char * a1=NULL;
    char * a2=NULL;
    a1=(char*)malloc(3*sizeof(char));
    strcpy(a1, &quot;abc&quot;);//将字符串&ldquo;abc&rdquo;复制给a1
    a2=(char*)malloc(3*sizeof(char));
    strcpy(a2, &quot;defg&quot;);
    int lengthA1=strlen(a1);
    int lengthA2=strlen(a2);
    if (lengthA1&lt;lengthA1+lengthA2) {
        a1=(char*)realloc(a1, (lengthA1+lengthA2)*sizeof(char));
    }
    for (int i=lengthA1; i&lt;lengthA1+lengthA2; i++) {
        a1[i]=a2[i-lengthA1];
    }
    printf(&quot;%s&quot;,a1);
    free(a1);
    free(a2);
    return 0;
}</pre>
输出结果：<br />
abcdefg<br />
<br />
<span style="color:#b22222;">注：</span>在程序中，我们给 a1 和 a2 赋值的时候，使用了 strcpy 复制函数。在这里不能直接用：a1 = &rdquo;abc&rdquo;这种方式，如果你这样做，程序编译会出错，告诉你，没有 malloc 的空间不能 free 。<br />
<br />
原因是： strcpy 函数是将字符串复制到申请的存储空间中，而直接赋值是字符串存储在别的内存空间（本身是一个常量，放在常量区）中，更改了指针 a1 和 a2 的指向，也就是说，之前动态申请的存储空间虽然申请了，结果还没用呢就丢了。
<h2>
	块链存储</h2>
块链存储，其实就是借用<u><a href='/view/160.html' target='_blank'>链表</a></u>的存储结构来存储串。一般情况下使用单链表就足够了，而且不需要增设头结点。<br />
<br />
在构建链表时，每个结点可以存放一个字符，也可以存放多个字符。
<div style="text-align: center;">
	<img alt="" src="/uploads/allimg/170719/2-1FG9130946160.png" style="width: 564px; height: 113px;" /></div>
<div style="text-align: center;">
	<u><a href='/view/200.html' target='_blank'>图</a></u>1 块链存储<br />
	&nbsp;</div>
链表中最后一个结点的数据域不一定全被串值占满，通常会补上 &ldquo;#&rdquo; 或者其他特殊的字符和字符串中的字符区分开。<br />
<br />
每个结点设置字符数量的多少和存储的串的长度、可以占用的存储空间以及程序实现的功能相关。<br />
<br />
如果串包含数据量很大，但是可用的存储空间有限，那么就需要提高空间利用率，相应地减少结点数量（因为多一个节点，就多申请一个指针域的空间）。<br />
<br />
而如果程序中需要大量地插入或者删除数据，如果每个节点包含的字符过多，操作字符就会变得很麻烦，为实现功能增加了障碍。
<h2>
	总结</h2>
在平时编写程序，经常会用到例如：char *a = &rdquo;abcd&rdquo;;这种方式表示字符串，和上面三种存储方式最主要的区别是：这种方式用于表示常量字符串，只能使用，不能对字符串内容做修改（否则程序运行出错）；而以上三种方式都可以对字符串进行删改的操作。<br />
<br />
例如：
<pre class="cpp">
#include &lt;stdio.h&gt;
int main() {
    char* a=&quot;abcd&quot;;
    a[1]=&#39;b&#39;;
    return 0;
}</pre>
程序编译可以通过，运行失败，改成下面堆分配存储的方式就对了：
<pre class="cpp">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
int main() {
    char * a=(char*)malloc(4*sizeof(char));
    strcpy(a, &quot;abcd&quot;);
    a[1]=&#39;e&#39;;
    printf(&quot;%s&quot;,a);
    return 0;
}</pre>
输出结果：<br />
aecd<br />
<br />
三种存储表示方式中，最常用的是堆分配存储，因为它在定长存储的基础上通过使用动态数组，避免了在操作串时可能因为申请存储空间的不足而丢失字符数据；和块链存储方式相比，结构相对简单，更容易操作。<br />
<br />
</div>
		</div>
		
	</div>
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 11;
window.arcId = "dd9eTt0RIeZMUWYylJuL5NAl9pRw89YheGBaLp2w0a2jZ1Hm/ulKNK0L";
window.siteId = 1;
window.cmsTempletsVer = "1.2";
</script>
<div id="footer">
	<ul id="nav-bottom" class="clearfix">
		<li><a href="/view/267.html" target="_blank">联系方式</a></li>
		<li><a href="/view/212.html" target="_blank">购买教程（带答疑）</a></li>
	</ul>
</div>

<script src="/templets/default/script/jquery1.12.4.min.js"></script>
<script src="/templets/default/script/jquery.snippet.js"></script>
<script src="/templets/default/script/common.js?v=1.2"></script>

<span style="display:none;"><script src="https://s22.cnzz.com/z_stat.php?id=1273514649&web_id=1273514649" language="JavaScript"></script></span>
</body>
</html>